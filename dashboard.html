<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - MathMaster</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-card: rgba(22, 22, 32, 0.8);
            --accent-primary: #f97316;
            --accent-secondary: #fb923c;
            --accent-glow: rgba(249, 115, 22, 0.4);
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --border-subtle: rgba(255, 255, 255, 0.06);
            --border-accent: rgba(249, 115, 22, 0.3);
            --success: #22c55e;
            --warning: #eab308;
            --info: #3b82f6;
            --purple: #a855f7;
        }

        * {
            font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding-bottom: 6rem;
        }

        /* Glass card effect */
        .glass-card {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-subtle);
            border-radius: 1.25rem;
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            border-color: rgba(255, 255, 255, 0.1);
        }

        /* Stat card */
        .stat-card {
            background: var(--bg-card);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-subtle);
            border-radius: 1rem;
            padding: 1.25rem;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            border-color: var(--border-accent);
            box-shadow: 0 10px 30px -10px rgba(249, 115, 22, 0.2);
        }

        .stat-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }

        .stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            font-size: 1.75rem;
        }

        /* Navigation dock */
        .nav-dock {
            position: fixed;
            bottom: 1.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.625rem 0.875rem;
            background: rgba(18, 18, 26, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-subtle);
            border-radius: 100px;
            box-shadow: 0 20px 50px -20px rgba(0, 0, 0, 0.8);
            z-index: 100;
        }

        .nav-item {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2.75rem;
            height: 2.75rem;
            border-radius: 50%;
            color: var(--text-secondary);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-item:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }

        .nav-item.active {
            color: var(--accent-primary);
            background: rgba(249, 115, 22, 0.15);
        }

        .nav-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(8px);
            padding: 0.375rem 0.75rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-subtle);
            border-radius: 0.5rem;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.2s ease;
        }

        .nav-item:hover .nav-tooltip {
            opacity: 1;
            transform: translateX(-50%) translateY(-8px);
        }

        /* Progress bar */
        .progress-bar {
            height: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 100px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 100px;
            transition: width 0.5s ease;
        }

        /* Challenge item */
        .challenge-item {
            padding: 1rem 1.25rem;
            border-bottom: 1px solid var(--border-subtle);
            transition: background 0.2s ease;
        }

        .challenge-item:last-child {
            border-bottom: none;
        }

        .challenge-item:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        /* Activity item */
        .activity-item {
            display: flex;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        /* Goal item */
        .goal-item {
            padding: 1rem 1.25rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .goal-item:last-child {
            border-bottom: none;
        }

        /* Status badge */
        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.625rem;
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Header gradient */
        .header-gradient {
            background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(251, 146, 60, 0.05));
            border-bottom: 1px solid var(--border-subtle);
        }

        /* Buttons */
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            font-weight: 600;
            padding: 0.625rem 1.25rem;
            border-radius: 0.625rem;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 0 20px var(--accent-glow);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-subtle);
            color: var(--text-primary);
            font-weight: 500;
            padding: 0.625rem 1.25rem;
            border-radius: 0.625rem;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.15);
        }

        /* Chart container */
        .chart-container {
            position: relative;
            height: 280px;
        }

        /* Section label */
        .section-label {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.375rem 0.75rem;
            background: rgba(249, 115, 22, 0.1);
            border: 1px solid rgba(249, 115, 22, 0.2);
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--accent-primary);
        }

        @media (max-width: 768px) {
            .nav-dock {
                width: calc(100% - 2rem);
                justify-content: space-between;
            }
            
            .nav-tooltip {
                display: none;
            }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Navigation Dock -->
    <nav class="nav-dock">
        <a href="index.html" class="nav-item" aria-label="Home">
            <span class="nav-tooltip">Home</span>
            <i class="fas fa-home"></i>
        </a>
        <a href="about.html" class="nav-item" aria-label="About">
            <span class="nav-tooltip">About</span>
            <i class="fas fa-info-circle"></i>
        </a>
        <a href="schedule.html" class="nav-item" aria-label="Schedule">
            <span class="nav-tooltip">Schedule</span>
            <i class="fas fa-calendar-alt"></i>
        </a>
        <a href="dashboard.html" class="nav-item active" aria-label="Dashboard">
            <span class="nav-tooltip">Dashboard</span>
            <i class="fas fa-chart-line"></i>
        </a>
        <a href="resources.html" class="nav-item" aria-label="Resources">
            <span class="nav-tooltip">Resources</span>
            <i class="fas fa-book-open"></i>
        </a>
        <a href="community.html" class="nav-item" aria-label="Community">
            <span class="nav-tooltip">Community</span>
            <i class="fas fa-users"></i>
        </a>
        <a href="support.html" class="nav-item" aria-label="Support">
            <span class="nav-tooltip">Support</span>
            <i class="fas fa-life-ring"></i>
        </a>
        <a href="auth.html" class="nav-item" aria-label="Sign In" id="nav-sign-in">
            <span class="nav-tooltip">Sign In</span>
            <i class="fas fa-sign-in-alt"></i>
        </a>
    </nav>

    <!-- Header -->
    <header class="header-gradient">
        <div class="max-w-7xl mx-auto px-6 py-8">
            <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
                <div>
                    <span class="section-label mb-3">
                        <i class="fas fa-chart-pie"></i>
                        Learning Dashboard
                    </span>
                    <h1 class="text-3xl font-bold mt-3">Welcome back, <span class="text-orange-400" id="user-name">Student</span>!</h1>
                    <p class="text-zinc-400 mt-1">Track your progress and stay on top of your learning journey.</p>
                </div>
                <div class="flex gap-3">
                    <a href="dashboard-goals.html" class="btn-primary flex items-center gap-2">
                        <i class="fas fa-plus"></i>
                        <span>New Goal</span>
                    </a>
                    <a href="dashboard-analytics.html" class="btn-secondary flex items-center gap-2">
                        <i class="fas fa-chart-bar"></i>
                        <span>Analytics</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 py-8">
        <!-- Stats Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <!-- Hours Studied -->
            <div class="stat-card">
                <div class="flex items-center gap-4">
                    <div class="stat-icon bg-orange-500/20 text-orange-400">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div>
                        <p class="text-zinc-500 text-sm">Hours Studied</p>
                        <p class="stat-value text-white">24.5</p>
                        <p class="text-green-400 text-xs flex items-center gap-1 mt-1">
                            <i class="fas fa-arrow-up"></i> 12% this week
                        </p>
                    </div>
                </div>
            </div>

            <!-- Problems Solved -->
            <div class="stat-card">
                <div class="flex items-center gap-4">
                    <div class="stat-icon bg-green-500/20 text-green-400">
                        <i class="fas fa-check-double"></i>
                    </div>
                    <div>
                        <p class="text-zinc-500 text-sm">Problems Solved</p>
                        <p class="stat-value text-white">148</p>
                        <p class="text-green-400 text-xs flex items-center gap-1 mt-1">
                            <i class="fas fa-arrow-up"></i> +32 this week
                        </p>
                    </div>
                </div>
            </div>

            <!-- Current Streak -->
            <div class="stat-card">
                <div class="flex items-center gap-4">
                    <div class="stat-icon bg-yellow-500/20 text-yellow-400">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div>
                        <p class="text-zinc-500 text-sm">Current Streak</p>
                        <p class="stat-value text-white">7 <span class="text-base font-normal text-zinc-500">days</span></p>
                        <p class="text-yellow-400 text-xs flex items-center gap-1 mt-1">
                            <i class="fas fa-bolt"></i> Keep it going!
                        </p>
                    </div>
                </div>
            </div>

            <!-- Math Mastery -->
            <div class="stat-card">
                <div class="flex items-center gap-4">
                    <div class="stat-icon bg-purple-500/20 text-purple-400">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div>
                        <p class="text-zinc-500 text-sm">Math Mastery</p>
                        <p class="stat-value text-white">87%</p>
                        <p class="text-purple-400 text-xs flex items-center gap-1 mt-1">
                            <i class="fas fa-star"></i> Advanced Level
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Progress Chart -->
            <div class="lg:col-span-2">
                <div class="glass-card p-6">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h2 class="text-lg font-semibold">Learning Progress</h2>
                            <p class="text-zinc-500 text-sm">Your weekly performance</p>
                        </div>
                        <select class="bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-1.5 text-sm text-zinc-300 focus:outline-none focus:ring-2 focus:ring-orange-500">
                            <option>This Month</option>
                            <option>Last Month</option>
                            <option>Last 3 Months</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="progressChart"></canvas>
                    </div>
                    <div class="flex items-center justify-center gap-6 mt-4 text-sm">
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-orange-500"></div>
                            <span class="text-zinc-400">Problems Solved</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                            <span class="text-zinc-400">Accuracy %</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Challenges -->
            <div class="glass-card overflow-hidden">
                <div class="p-6 border-b border-zinc-800">
                    <h2 class="text-lg font-semibold">Math Challenges</h2>
                    <p class="text-zinc-500 text-sm">Upcoming assignments</p>
                </div>
                <div>
                    <!-- Challenge 1 -->
                    <div class="challenge-item">
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-lg bg-orange-500/20 flex items-center justify-center text-orange-400 flex-shrink-0">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="font-medium text-sm">Calculus: Derivatives</h4>
                                <p class="text-zinc-500 text-xs mt-0.5">Due in 2 days • 20 problems</p>
                                <div class="mt-2">
                                    <div class="progress-bar">
                                        <div class="progress-fill bg-orange-500" style="width: 65%"></div>
                                    </div>
                                    <p class="text-zinc-500 text-xs mt-1">13/20 completed</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Challenge 2 -->
                    <div class="challenge-item">
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center text-green-400 flex-shrink-0">
                                <i class="fas fa-infinity"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="font-medium text-sm">Linear Algebra Basics</h4>
                                <p class="text-zinc-500 text-xs mt-0.5">Due in 5 days • 15 problems</p>
                                <div class="mt-2">
                                    <div class="progress-bar">
                                        <div class="progress-fill bg-green-500" style="width: 40%"></div>
                                    </div>
                                    <p class="text-zinc-500 text-xs mt-1">6/15 completed</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Challenge 3 -->
                    <div class="challenge-item">
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center text-yellow-400 flex-shrink-0">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="font-medium text-sm">Statistics Quiz</h4>
                                <p class="text-yellow-400 text-xs mt-0.5">Starts in 3 days</p>
                                <p class="text-zinc-500 text-xs mt-1">30 minutes • 10 questions</p>
                            </div>
                        </div>
                    </div>

                    <!-- Challenge 4 -->
                    <div class="challenge-item">
                        <div class="flex items-start gap-3">
                            <div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center text-purple-400 flex-shrink-0">
                                <i class="fas fa-function"></i>
                            </div>
                            <div class="flex-1 min-w-0">
                                <h4 class="font-medium text-sm">Advanced Functions</h4>
                                <p class="text-zinc-500 text-xs mt-0.5">Due in 1 week • 10 problems</p>
                                <div class="mt-2">
                                    <div class="progress-bar">
                                        <div class="progress-fill bg-purple-500" style="width: 20%"></div>
                                    </div>
                                    <p class="text-zinc-500 text-xs mt-1">2/10 completed</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4 bg-zinc-900/50 border-t border-zinc-800">
                    <a href="#" class="text-orange-400 text-sm font-medium flex items-center gap-2 hover:gap-3 transition-all">
                        View all challenges
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>

        <!-- Secondary Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
            <!-- Recent Activity -->
            <div class="glass-card p-6">
                <h2 class="text-lg font-semibold mb-1">Recent Activity</h2>
                <p class="text-zinc-500 text-sm mb-4">Your latest learning actions</p>

                <div class="space-y-0">
                    <!-- Activity 1 -->
                    <div class="activity-item">
                        <div class="activity-icon bg-orange-500/20 text-orange-400">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm">Completed: Derivatives Practice</h4>
                            <p class="text-zinc-500 text-xs mt-0.5">2 hours ago</p>
                            <div class="flex items-center gap-3 mt-2">
                                <span class="text-orange-400 text-xs">+50 XP</span>
                                <span class="text-zinc-600">•</span>
                                <span class="text-zinc-400 text-xs">New Badge: Calculus Explorer</span>
                            </div>
                        </div>
                    </div>

                    <!-- Activity 2 -->
                    <div class="activity-item">
                        <div class="activity-icon bg-purple-500/20 text-purple-400">
                            <i class="fas fa-comment-dots"></i>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm">New reply on your question</h4>
                            <p class="text-zinc-500 text-xs mt-0.5">5 hours ago</p>
                            <p class="text-zinc-400 text-xs mt-2 italic">"Great question! Have you tried using the formula for..."</p>
                        </div>
                    </div>

                    <!-- Activity 3 -->
                    <div class="activity-item">
                        <div class="activity-icon bg-green-500/20 text-green-400">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div>
                            <h4 class="font-medium text-sm">Session Booked: Calculus Review</h4>
                            <p class="text-zinc-500 text-xs mt-0.5">Yesterday</p>
                            <p class="text-zinc-400 text-xs mt-2">Monday, 2:00 PM - 3:30 PM with Michael Chen</p>
                        </div>
                    </div>
                </div>

                <a href="#" class="text-orange-400 text-sm font-medium flex items-center gap-2 hover:gap-3 transition-all mt-4">
                    View all activity
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>

            <!-- Study Goals -->
            <div class="glass-card overflow-hidden">
                <div class="p-6 border-b border-zinc-800 flex items-center justify-between">
                    <div>
                        <h2 class="text-lg font-semibold">Study Goals</h2>
                        <p class="text-zinc-500 text-sm">Track your learning objectives</p>
                    </div>
                    <button class="btn-primary text-sm py-2 px-3">
                        <i class="fas fa-plus mr-1"></i> Add Goal
                    </button>
                </div>

                <div>
                    <!-- Goal 1 -->
                    <div class="goal-item">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="font-medium text-sm">Complete Calculus Module</h4>
                            <span class="status-badge bg-green-500/20 text-green-400">
                                <i class="fas fa-spinner fa-spin text-xs"></i>
                                In Progress
                            </span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex-1 progress-bar">
                                <div class="progress-fill bg-gradient-to-r from-orange-500 to-amber-500" style="width: 75%"></div>
                            </div>
                            <span class="text-zinc-400 text-xs font-mono">75%</span>
                        </div>
                    </div>

                    <!-- Goal 2 -->
                    <div class="goal-item">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="font-medium text-sm">Solve 50 Practice Problems</h4>
                            <span class="status-badge bg-yellow-500/20 text-yellow-400">
                                <i class="fas fa-exclamation-circle text-xs"></i>
                                Needs Work
                            </span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex-1 progress-bar">
                                <div class="progress-fill bg-yellow-500" style="width: 30%"></div>
                            </div>
                            <span class="text-zinc-400 text-xs font-mono">15/50</span>
                        </div>
                    </div>

                    <!-- Goal 3 -->
                    <div class="goal-item">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="font-medium text-sm">Attend 3 Study Sessions</h4>
                            <span class="status-badge bg-green-500/20 text-green-400">
                                <i class="fas fa-check-circle text-xs"></i>
                                Completed
                            </span>
                        </div>
                        <div class="flex items-center gap-3">
                            <div class="flex-1 progress-bar">
                                <div class="progress-fill bg-green-500" style="width: 100%"></div>
                            </div>
                            <span class="text-zinc-400 text-xs font-mono">3/3</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Initialize Chart
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('progressChart').getContext('2d');
            
            const gradient1 = ctx.createLinearGradient(0, 0, 0, 280);
            gradient1.addColorStop(0, 'rgba(249, 115, 22, 0.3)');
            gradient1.addColorStop(1, 'rgba(249, 115, 22, 0)');
            
            const gradient2 = ctx.createLinearGradient(0, 0, 0, 280);
            gradient2.addColorStop(0, 'rgba(34, 197, 94, 0.3)');
            gradient2.addColorStop(1, 'rgba(34, 197, 94, 0)');
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'This Week'],
                    datasets: [
                        {
                            label: 'Problems Solved',
                            data: [15, 22, 18, 27, 32],
                            borderColor: '#f97316',
                            backgroundColor: gradient1,
                            tension: 0.4,
                            fill: true,
                            pointBackgroundColor: '#f97316',
                            pointBorderColor: '#0a0a0f',
                            pointBorderWidth: 2,
                            pointRadius: 4
                        },
                        {
                            label: 'Accuracy %',
                            data: [65, 72, 78, 81, 87],
                            borderColor: '#22c55e',
                            backgroundColor: gradient2,
                            tension: 0.4,
                            fill: true,
                            yAxisID: 'y1',
                            pointBackgroundColor: '#22c55e',
                            pointBorderColor: '#0a0a0f',
                            pointBorderWidth: 2,
                            pointRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: '#1e1e2e',
                            titleColor: '#fafafa',
                            bodyColor: '#a1a1aa',
                            borderColor: 'rgba(255,255,255,0.1)',
                            borderWidth: 1,
                            padding: 12,
                            cornerRadius: 8
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#71717a',
                                font: {
                                    family: 'Outfit'
                                }
                            }
                        },
                        y: {
                            position: 'left',
                            grid: {
                                color: 'rgba(255,255,255,0.05)'
                            },
                            ticks: {
                                color: '#71717a',
                                font: {
                                    family: 'Outfit'
                                }
                            }
                        },
                        y1: {
                            position: 'right',
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#71717a',
                                callback: function(value) {
                                    return value + '%';
                                },
                                font: {
                                    family: 'Outfit'
                                }
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });

            // Auth state
            const safeParse = (raw) => {
                try { return JSON.parse(raw); } catch { return null; }
            };

            const capitalize = (v) => v ? v.charAt(0).toUpperCase() + v.slice(1) : '';

            const profile = safeParse(localStorage.getItem('mm_profile'));
            const session = safeParse(localStorage.getItem('mm_session'));
            const signedIn = profile && session && session.email === profile.email;
            
            const userNameEl = document.getElementById('user-name');
            const navSignIn = document.getElementById('nav-sign-in');
            
            if (signedIn) {
                if (userNameEl) userNameEl.textContent = capitalize(profile.firstName) || 'Student';
                if (navSignIn) {
                    navSignIn.innerHTML = `
                        <span class="nav-tooltip">Account</span>
                        <span class="w-7 h-7 rounded-full bg-gradient-to-br from-orange-500 to-amber-500 flex items-center justify-center text-white text-xs font-bold">
                            ${(profile.firstName || 'U').charAt(0).toUpperCase()}
                        </span>
                    `;
                }
            }
        });
    </script>
</body>
</html>
